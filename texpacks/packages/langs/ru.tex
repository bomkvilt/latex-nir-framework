\moduleCode
{
    \usepackage{mathtext}
    \usepackage{indentfirst}
    \usepackage{misccorr}
    \usepackage[utf8]{inputenc}
    \usepackage[T1]{fontenc}
    \usepackage[latin, english, russian]{babel}
    \input{./xecyr.tex} % \cyrX commands
}
{
    \usepackage{xltxtra}

    \selectlanguage{russian}

    % >> ??
    \setmainfont {Times New Roman}
    \setromanfont{Times New Roman} 
    \setmonofont {Courier New} 
    \setsansfont {Arial}

    \newfontfamily{\cyrillicfont  }{Times New Roman} 
    \newfontfamily{\cyrillicfontrm}{Times New Roman}
    \newfontfamily{\cyrillicfonttt}{Courier New}
    \newfontfamily{\cyrillicfontsf}{Arial}

    % >> ??
    \DeclareSymbolFont{cyrletters}{\encodingdefault}{\familydefault}{m}{it}
    \newcommand{\makecyrmathletter}[1]
    {
        \begingroup\lccode`a=#1\lowercase{\endgroup
        \Umathcode`a}="0 \csname symcyrletters\endcsname\space #1
    }
    % >> ??
    \count255="409
    \loop\ifnum\count255<"44F
        \advance\count255 by 1
        \makecyrmathletter{\count255}
    \repeat

    % ----------------------------------------------------------------------------------------------
    % --------------------------------- localisation
    % ----------------------------------------------------------------------------------------------
    % --------------------------------- Tables
    
    % setup caption style
    \SetTblrStyle   {default}{indent = 0.cm}
    \DefTblrTemplate{caption-tag  }{default}{Таблица\hspace{0.25em}\thetable}
    \DefTblrTemplate{conthead-text}{default}{Продолжение таблицы \thetable}
    \DefTblrTemplate{caption-sep  }{default}{--}
    \DefTblrTemplate{caption-text }{default}{\InsertTblrText{caption}}
    
    % remove "continue" futter 
    \DefTblrTemplate{contfoot-text}{default}{}

    % setup caption styles
    \DefTblrTemplate{caption}{default} {
        \UseTblrIndent  {default}
        \UseTblrTemplate{caption-tag}{default}
        \UseTblrTemplate{caption-sep}{default}
        \UseTblrTemplate{caption-text}{default}
    }
    \DefTblrTemplate{capcont}{default} {
        \UseTblrIndent  {default}
        \UseTblrTemplate{conthead-text}{default}
    }



    \DefTblrTemplate{caption}{where} {
        % empty
    }
    \DefTblrTemplate{capcont}{where} {
        % empty
    }
    \NewTblrTheme{where} {
        \SetTblrTemplate{caption}{where}
        \SetTblrTemplate{capcont}{where}
    }

    % --------------------------------- Subfigures

    \renewcommand\thesubfigure{\asbuk{subfigure}}
}
