% import \moduleCode command
\input{./packages/modules.tex}

% import common packages
\moduleCode
{
	\usepackage{comment   } % 
	\usepackage{etoolbox  } % usefull tools
	\usepackage{pdflscape } % album layout
	\usepackage{geometry  } % fields
	\usepackage{atbegshi  } % output routine callbacks
	\usepackage{float     }
	\usepackage{placeins  }
	\usepackage{xspace    }
	\usepackage{subcaption}
}{}

\input{./packages/texcode.tex}
\input{./packages/math/math.tex}
\input{./packages/langs/ru.tex}

% import table packages
\texcode{on}
\moduleCode
{
	\usepackage{tabularx, xltabular, booktabs} % tables unitary and long
    \usepackage{multirow, makecell} % improved table formatting
    \usepackage{threeparttable    } % automatic table caption's width
	\usepackage{caption}

	%% for nested tabularx envoronmenrs:
	%  
	%	\begin{tabularx}{\textwidth}{|X|X|X|}
	%		...
	%		{ % << open a new group
	%			\begin{tabularx}{\cellwidth}{lX} % << use \cellwidth instead of \textwidth
	%				Name:       & \hrulefill \\
	%				Race:       & \hrulefill \\
	%				Profession: & \hrulefill \\
	%			\end{tabularx}
	%		} &
	%		...
	%	\end{tabularx}
	\newcommand\cellwidth{\TX@col@width}
	
	% add a X-column's variant that's alligned by h-center
	\newcolumntype{Y}{>{\centering\arraybackslash}X}
	
	% set v-centering by default
	\renewcommand\tabularxcolumn[1]{m{#1}}
}{}
\texcode{}

% references
\moduleCode
{
	\usepackage[hidelinks]{hyperref}
}{}


\moduleCode
{
	\usepackage[english, russian]{cleveref}
}{}

\moduleCode
{   % common typography
    \usepackage{soulutf8} % multiline underlines and strikethroughs
    \usepackage{icomma  } % support of comma in equations' digits
    \usepackage{hyphenat} % hyphenation support
}
{
	\hyphenchar\font=8208\relax
}

\moduleCode
{   % counters
    \usepackage[figure, table]{totalcount}
    \usepackage{totcount}
    \usepackage{totpages}
}{}

\texcode{on}
	% define int variables
	\int_new:N \@@@count
\texcode{}

% import extending code features
\input{./packages/code/errors.tex}
\input{./packages/code/switch.tex}

% document behavior features
\input{./packages/sections/sections.tex}

% document style features
\input{./packages/styles/acro.tex}
\input{./packages/styles/enums.tex}
\input{./packages/styles/biblio.tex}
